<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reverse Gravity</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            font-family: 'Arial', sans-serif;
            background: #f0f0f0;
        }

        .header {
            width: 100%;
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            padding: 20px;
            color: #1b404e;
            text-align: center;
        }

        .content {
            display: flex;
            width: 100%;
            flex-direction: row;
            justify-content: space-between;
            align-items: flex-start;
            padding: 20px;
        }

        .controls {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(148, 127, 127, 0.2);
            margin: 20px;
            width: 300px;
            z-index: 10;
            color: #333;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .controls:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .controls label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #ff6f61;
        }

        .controls input {
            width: calc(100% - 10px);
            padding: 10px;
            margin-bottom: 20px;
            border: none;
            border-radius: 5px;
            background: rgba(236, 147, 147, 0.316);
            color: #333;
            font-size: 1em;
            outline: none;
            transition: background 0.3s ease;
        }

        .controls input:focus {
            background: #ffe0dc;
        }

        .controls button {
            background: #ff6f61;
            color: #262323;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            width: 100%;
        }

        .controls button:hover {
            background: #ff4b4b;
            transform: scale(1.05);
        }

        .simulation-container {
            position: relative;
            flex-grow: 1;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }

        .simulation {
            width: 800px;
            height: 600px;
        }

        .description {
            max-width: 600px;
            margin: 20px;
        }

        .description h2 {
            color: #333;
        }

        .description p {
            color: #555;
            line-height: 1.6;
        }

        .description ul {
            list-style-type: square;
            padding-left: 20px;
        }

        .description ul li {
            color: #555;
            margin-bottom: 10px;
        }
    </style>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<body>
    <div class="header">
        <h1>Reverse Gravity </h1>
    </div>

    <div class="content">
        <div class="controls">
            <label for="gravityY">Vertical Gravity:</label>
            <input type="number" id="gravityY" value="-1" step="0.1">
            
            <label for="gravityX">Horizontal Gravity:</label>
            <input type="number" id="gravityX" value="0" step="0.1">
            
            <label for="numRows">Number of Rows:</label>
            <input type="number" id="numRows" value="5" min="1" max="10">
            
            <label for="numCols">Number of Columns:</label>
            <input type="number" id="numCols" value="11" min="1" max="20">
            
            <button onclick="updateSimulation()">Update Simulation</button>
        </div>

        <div class="description">
            <h2><b><u>About</u></b></h2>
            <p>This reverse gravity simulation allows you to experiment with different gravity settings and observe how objects interact under those conditions. You can adjust the vertical and horizontal gravity, as well as the number of rows and columns of objects in the simulation.</p>
            <h2><b><u>application</u></b></h2>
            <p>This tool can be used for various purposes, such as:</p>
            <ul>
                <li><strong>Educational purposes:</strong> Demonstrate the effects of gravity in a controlled environment.</li><br>
                <li><strong>Game development:</strong> Test how objects behave under different gravitational conditions.</li><br>
                <li><strong>Physics experiments:</strong> Conduct virtual experi ments to understand concepts better.</li>
            </ul>
        </div>

        <div class="simulation-container">
            <div id="simulation" class="simulation"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
    <script>
        var engine, render, runner;

        function createSimulation(gravityY, gravityX, numRows, numCols) {
            var Engine = Matter.Engine,
                Render = Matter.Render,
                Runner = Matter.Runner,
                Composites = Matter.Composites,
                Common = Matter.Common,
                MouseConstraint = Matter.MouseConstraint,
                Mouse = Matter.Mouse,
                Composite = Matter.Composite,
                Bodies = Matter.Bodies;

            engine = Engine.create();
            var world = engine.world;
            engine.gravity.y = gravityY;
            engine.gravity.x = gravityX;

            render = Render.create({
                element: document.getElementById('simulation'),
                engine: engine,
                options: {
                    width: 800,
                    height: 600,
                    showVelocity: true,
                    showAngleIndicator: true
                }
            });

            Render.run(render);

            runner = Runner.create();
            Runner.run(runner, engine);

            Composite.add(world, [
                Bodies.rectangle(400, 0, 800, 50, { isStatic: true }),
                Bodies.rectangle(400, 600, 800, 50.5, { isStatic: true }),
                Bodies.rectangle(800, 300, 50, 600, { isStatic: true }),
                Bodies.rectangle(0, 300, 50, 600, { isStatic: true })
            ]);

            var stack = Composites.stack(50, 120, numCols, numRows, 0, 0, function(x, y) {
                switch (Math.round(Common.random(0, 1))) {
                case 0:
                    if (Common.random() < 0.8) {
                        return Bodies.rectangle(x, y, Common.random(20, 50), Common.random(20, 50));
                    } else {
                        return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));
                    }
                case 1:
                    return Bodies.polygon(x, y, Math.round(Common.random(1, 8)), Common.random(20, 50));
                }
            });

            Composite.add(world, stack);

            var mouse = Mouse.create(render.canvas),
                mouseConstraint = MouseConstraint.create(engine, {
                    mouse: mouse,
                    constraint: {
                        stiffness: 0.2,
                        render: {
                            visible: false
                        }
                    }
                });

            Composite.add(world, mouseConstraint);

            render.mouse = mouse;

            Render.lookAt(render, {
                min: { x: 0, y: 0 },
                max: { x: 800, y: 600 }
            });
        }

        function updateSimulation() {
            var gravityY = parseFloat(document.getElementById('gravityY').value);
            var gravityX = parseFloat(document.getElementById('gravityX').value);
            var numRows = parseInt(document.getElementById('numRows').value);
            var numCols = parseInt(document.getElementById('numCols').value);

            if (render && engine && runner) {
                Matter.Render.stop(render);
                Matter.Runner.stop(runner);
                Matter.World.clear(engine.world);
                Matter.Engine.clear(engine);
                render.canvas.remove();
                render.textures = {};
            }

            createSimulation(gravityY, gravityX, numRows, numCols);
        }

        createSimulation(-1, 0, 5, 11);
    </script>
</body>
</html>
